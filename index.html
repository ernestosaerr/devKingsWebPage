<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mascotas</title>
    <link rel="stylesheet" href="stylesIndex.css">
</head>
<body>
    <div class="container">
        <div class="left-side">
            <div class="carousel">
                <img src="https://img.freepik.com/foto-gratis/perro-alto-angulo-mirando-arriba-sobre-fondo-amarillo_23-2148415222.jpg" alt="Imagen de un perro" class="carousel-image">
                <img src="https://www.semana.com/resizer/AfpbiiobE_ZuLLKWy9ZMnhkWhjA=/arc-anglerfish-arc2-prod-semana/public/2CQBVNCQBFA37I7A3ROSV6OBXY.jpg" alt="Imagen de un cachorro" class="carousel-image">
                <img src="https://images.ctfassets.net/denf86kkcx7r/4IPlg4Qazd4sFRuCUHIJ1T/f6c71da7eec727babcd554d843a528b8/gatocomuneuropeo-97" alt="Imagen de un gato" class="carousel-image">
            </div>
        </div>
        <div class="right-side">
            <div class="login-container">
                <h1>Bienvenido</h1>
                <form action="dashboard.html" method="get">
                    <input type="text" name="username" placeholder="Usuario" required>
                    <input type="password" name="password" placeholder="Contraseña" required>
                    <button class="boton-Sesion" type="submit">Iniciar Sesión</button>
                </form>
                <button class="boton-registro" onclick="location.href='register.html'">Registrarse</button>
            </div>
        </div>
    </div>
    <footer>
        <p>&copy; DevKings</p>
    </footer>

    <!-- Aquí va el script para el login -->
    <script>
    document.querySelector('.boton-Sesion').addEventListener('click', function(event) {
        event.preventDefault(); // Prevenir el envío del formulario

        const username = document.querySelector('input[name="username"]').value;
        const password = document.querySelector('input[name="password"]').value;

        fetch('http://localhost:3000/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                username: username,
                password: password
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                window.location.href = 'dashboard.html'; // Redirigir al panel de control si el login es exitoso
            } else {
                alert('Usuario o contraseña incorrectos');
            }
        })
        .catch(error => {
            console.error('Error al iniciar sesión:', error);
            alert('Hubo un error al iniciar sesión');
        });
    });
    </script>

    <!-- Aquí se incluye el scriptLogin.js -->
    <script src="scriptLogin.js"></script>  <!-- Asegúrate de que la ruta sea correcta -->
</body>
</html>
